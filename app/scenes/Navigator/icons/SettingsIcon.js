import React from 'react';
import PropTypes from 'prop-types';
import { Svg } from 'expo';
import { connect } from 'react-redux';
import { selectSettings } from 'state/settings/selectors';
import themes from 'constants/themes';

const mapStateToProps = state => ({
  theme: selectSettings(state).theme,
});

const propTypes = {
  focused: PropTypes.bool.isRequired,
  theme: PropTypes.string.isRequired,
};

const SettingsIcon = ({ focused, theme }) => (
  <Svg width="21" height="21" xmlns="http://www.w3.org/2000/svg"><Svg.Path d="M20.72 8.13a.84.84 0 0 0-.106-.194 1.908 1.908 0 0 0-1.58-.732h-.108a.982.982 0 0 1-.84-.517.027.027 0 0 1-.029-.029c-.111-.193-.21-.353-.323-.546a.027.027 0 0 1-.021-.025 1.016 1.016 0 0 1-.03-1.007.126.126 0 0 0 .053-.082c.32-.544.379-1.203.16-1.795a.489.489 0 0 0-.108-.193 13.512 13.512 0 0 0-1.125-.953 2.275 2.275 0 0 0-.188-.081 1.977 1.977 0 0 0-1.717.463.149.149 0 0 0-.078.053.88.88 0 0 1-.59.21.995.995 0 0 1-.378-.082 4.328 4.328 0 0 0-.614-.21.989.989 0 0 1-.643-.762.527.527 0 0 0-.03-.107 1.929 1.929 0 0 0-1.02-1.47.378.378 0 0 0-.186-.05 12.16 12.16 0 0 0-1.446 0 .546.546 0 0 0-.189.053c-.56.307-.938.862-1.02 1.494a.094.094 0 0 0-.03.082.957.957 0 0 1-.642.762c-.184.053-.4.134-.615.21-.124.03-.25.047-.377.052a.96.96 0 0 1-.59-.21c-.025-.029-.053-.029-.078-.056a1.962 1.962 0 0 0-1.717-.464.275.275 0 0 0-.189.082c-.406.279-.783.597-1.127.95a.753.753 0 0 0-.107.194c-.23.59-.171 1.254.16 1.794a.56.56 0 0 1 .052.082c.169.318.157.7-.03 1.008a.027.027 0 0 0-.028.029 4.288 4.288 0 0 0-.307.546.027.027 0 0 0-.03.03.928.928 0 0 1-.839.515h-.109a1.956 1.956 0 0 0-1.58.737.489.489 0 0 0-.107.193c-.129.5-.22 1.01-.273 1.524a.567.567 0 0 0 .03.21A1.99 1.99 0 0 0 1.26 11.07a.926.926 0 0 1 .722.791v.03c.021.212.057.422.107.63v.029c.06.35-.061.709-.323.95a.149.149 0 0 0-.078.053c-.47.38-.745.95-.75 1.553a.701.701 0 0 0 .053.21c.236.48.505.945.804 1.39a.252.252 0 0 0 .164.163 1.941 1.941 0 0 0 1.679.107.124.124 0 0 0 .107-.03.968.968 0 0 1 .323-.052c.118 0 .234.02.344.061.117.045.226.107.324.185l.482.42.03.029c.27.225.402.574.348.921a.193.193 0 0 0-.03.107 2.042 2.042 0 0 0 .379 1.658.529.529 0 0 0 .189.135c.49.242 1.003.433 1.532.569a.35.35 0 0 0 .241 0 1.954 1.954 0 0 0 1.34-1.008.56.56 0 0 0 .052-.082.884.884 0 0 1 .86-.487h.672a.961.961 0 0 1 .86.487.56.56 0 0 1 .053.082c.272.52.764.89 1.339 1.008h.107c.03 0 .078 0 .044-.057.52-.162 1.03-.354 1.528-.573a.495.495 0 0 0 .189-.134c.287-.342.443-.775.438-1.222a2 2 0 0 0-.037-.382.34.34 0 0 0-.03-.164.97.97 0 0 1 .378-.896.03.03 0 0 1 .042-.042c.172-.126.334-.266.483-.42h.03a.942.942 0 0 1 .874-.216.42.42 0 0 1 .09.03.63.63 0 0 1 .108.029 2.214 2.214 0 0 0 .726.136 1.96 1.96 0 0 0 .967-.245l.164-.164c.315-.434.585-.9.804-1.39a.485.485 0 0 0 .053-.21 2.061 2.061 0 0 0-.75-1.552c-.025-.026-.052-.053-.077-.082a.923.923 0 0 1-.324-.84v-.031c.05-.207.086-.418.107-.63v-.023c.103-.621.563-.777.617-.777a.124.124 0 0 0 .116-.037 1.969 1.969 0 0 0 1.224-1.222.567.567 0 0 0 .029-.21 9.457 9.457 0 0 0-.262-1.526zm-10.233 5.796a3.309 3.309 0 1 1 3.281-3.32 3.288 3.288 0 0 1-3.281 3.32z" fill={focused ? themes[theme].primary : themes[theme].foreground} fillRule="nonzero"/></Svg>
);

SettingsIcon.propTypes = propTypes;

export default connect(mapStateToProps)(SettingsIcon);
